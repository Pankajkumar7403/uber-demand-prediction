schema: '2.0'
stages:
  data_ingestion:
    cmd: python ./uber_demand_predication/data/data_ingestion.py
    deps:
    - path: ./uber_demand_predication/data/data_ingestion.py
      hash: md5
      md5: 597834a6bf7f7128b2f287fa73de1547
      size: 3611
  extract_features:
    cmd: python ./uber_demand_predication/features/extract_features.py
    deps:
    - path: ./data/interim/df_without_outliers.csv
      hash: md5
      md5: dfd723e2f538f5475039d72d42c235d2
      size: 1924079864
    - path: ./params.yaml
      hash: md5
      md5: 3e3ea90d10d5fd0612a17379773629bc
      size: 122
    - path: ./uber_demand_predication/features/extract_features.py
      hash: md5
      md5: b10efbabc370e769439d9c50a58d4577
      size: 11786
    params:
      params.yaml:
        extract_features.ewma.alpha: 0.4
        extract_features.mini_batch_kmeans.n_clusters: 30
        extract_features.mini_batch_kmeans.n_init: 10
        extract_features.mini_batch_kmeans.random_state: 42
    outs:
    - path: data/processed/resampled_data.csv
      hash: md5
      md5: ed4bab758479a078084a25b4a6d7dd47
      size: 8480304
    - path: models/mb_kmeans.joblib
      hash: md5
      md5: bc07e0073d90552fae46795f72ef880f
      size: 143771
    - path: models/scaler.joblib
      hash: md5
      md5: f4821d98fd527b1d9d9daf03d9d64e27
      size: 951
  feature_processing:
    cmd: python ./uber_demand_predication/features/feature_processing.py
    deps:
    - path: ./data/processed/resampled_data.csv
      hash: md5
      md5: ed4bab758479a078084a25b4a6d7dd47
      size: 8480304
    - path: ./uber_demand_predication/features/feature_processing.py
      hash: md5
      md5: d2420514bf90c13c57a2ee5a0a8ba700
      size: 2539
    outs:
    - path: ./data/processed/test.csv
      hash: md5
      md5: 65b5222d774da26b32b3df35332ca1fa
      size: 4989674
    - path: ./data/processed/train.csv
      hash: md5
      md5: 264e992b536f0c2bc78ae737c3bf96c0
      size: 9609288
  train:
    cmd: python ./uber_demand_predication/models/train.py
    deps:
    - path: ./data/processed/train.csv
      hash: md5
      md5: 264e992b536f0c2bc78ae737c3bf96c0
      size: 9609288
    - path: ./uber_demand_predication/models/train.py
      hash: md5
      md5: ba47377f0341504d8b0c8518e63a5cda
      size: 2314
    outs:
    - path: ./models/encoder.joblib
      hash: md5
      md5: 11301a7f31bda9a1387017930159a1e3
      size: 3207
    - path: ./models/model.joblib
      hash: md5
      md5: d6e6a55cc1bd18032e97d524e1df297c
      size: 2169
  evaluate:
    cmd: python ./uber_demand_predication/models/evaluate.py
    deps:
    - path: ./data/processed/test.csv
      hash: md5
      md5: 65b5222d774da26b32b3df35332ca1fa
      size: 4989674
    - path: ./data/processed/train.csv
      hash: md5
      md5: 264e992b536f0c2bc78ae737c3bf96c0
      size: 9609288
    - path: ./models/encoder.joblib
      hash: md5
      md5: 11301a7f31bda9a1387017930159a1e3
      size: 3207
    - path: ./models/model.joblib
      hash: md5
      md5: d6e6a55cc1bd18032e97d524e1df297c
      size: 2169
    - path: ./uber_demand_predication/models/evaluate.py
      hash: md5
      md5: 015b481573af1e94d0c46bc28b547c23
      size: 5993
    outs:
    - path: ./run_information.json
      hash: md5
      md5: 6f74583f1f4906dc7b6c48202f6008c1
      size: 175
  register_model:
    cmd: python ./uber_demand_predication/models/register_model.py
    deps:
    - path: ./run_information.json
      hash: md5
      md5: 6f74583f1f4906dc7b6c48202f6008c1
      size: 175
    - path: ./uber_demand_predication/models/register_model.py
      hash: md5
      md5: adf1f21f4cf7f0910056a6e70f4fd93a
      size: 2499
